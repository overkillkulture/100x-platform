<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scientific Calculator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="calculator-container">
        <!-- Calculator Header -->
        <header class="calculator-header">
            <h1>Scientific Calculator</h1>
            <div class="memory-indicator" id="memoryIndicator">
                <span class="memory-status">M</span>
            </div>
        </header>

        <!-- Display Section -->
        <div class="display-section">
            <!-- History Display -->
            <div class="history-display" id="historyDisplay">
                <div class="history-content"></div>
            </div>
            
            <!-- Main Display -->
            <div class="main-display" id="mainDisplay">
                <input type="text" 
                       id="displayInput" 
                       class="display-input" 
                       readonly 
                       value="0"
                       tabindex="-1">
            </div>
        </div>

        <!-- Calculator Buttons -->
        <div class="calculator-grid">
            <!-- Row 1: Memory and Clear Functions -->
            <button class="btn memory-btn" data-action="memory-clear" title="Clear Memory (Ctrl+M)">MC</button>
            <button class="btn memory-btn" data-action="memory-recall" title="Recall Memory (Ctrl+R)">MR</button>
            <button class="btn memory-btn" data-action="memory-store" title="Store in Memory (Ctrl+S)">MS</button>
            <button class="btn memory-btn" data-action="memory-add" title="Add to Memory (Ctrl+P)">M+</button>
            <button class="btn clear-btn" data-action="clear-entry" title="Clear Entry (Delete)">CE</button>
            <button class="btn clear-btn" data-action="clear-all" title="Clear All (Escape)">C</button>

            <!-- Row 2: Advanced Functions -->
            <button class="btn function-btn" data-function="sin" title="Sine">sin</button>
            <button class="btn function-btn" data-function="cos" title="Cosine">cos</button>
            <button class="btn function-btn" data-function="tan" title="Tangent">tan</button>
            <button class="btn function-btn" data-function="log" title="Logarithm (base 10)">log</button>
            <button class="btn function-btn" data-function="ln" title="Natural Logarithm">ln</button>
            <button class="btn operator-btn" data-operator="^" title="Power (^)">x^y</button>

            <!-- Row 3: More Functions -->
            <button class="btn function-btn" data-function="asin" title="Arc Sine">asin</button>
            <button class="btn function-btn" data-function="acos" title="Arc Cosine">acos</button>
            <button class="btn function-btn" data-function="atan" title="Arc Tangent">atan</button>
            <button class="btn function-btn" data-function="sqrt" title="Square Root">√</button>
            <button class="btn function-btn" data-function="factorial" title="Factorial (!)">n!</button>
            <button class="btn number-btn" data-number="(" title="Open Parenthesis">(</button>

            <!-- Row 4: Numbers and Operations -->
            <button class="btn constant-btn" data-constant="pi" title="Pi (π)">π</button>
            <button class="btn constant-btn" data-constant="e" title="Euler's number (e)">e</button>
            <button class="btn function-btn" data-function="abs" title="Absolute Value">|x|</button>
            <button class="btn function-btn" data-function="reciprocal" title="Reciprocal (1/x)">1/x</button>
            <button class="btn function-btn" data-function="square" title="Square (x²)">x²</button>
            <button class="btn number-btn" data-number=")" title="Close Parenthesis">)</button>

            <!-- Row 5: Numbers 7-9 and Division -->
            <button class="btn number-btn" data-number="7" title="7">7</button>
            <button class="btn number-btn" data-number="8" title="8">8</button>
            <button class="btn number-btn" data-number="9" title="9">9</button>
            <button class="btn operator-btn" data-operator="/" title="Divide (/)">÷</button>
            <button class="btn function-btn" data-function="percent" title="Percent (%)">%</button>
            <button class="btn operator-btn" data-operator="mod" title="Modulo">mod</button>

            <!-- Row 6: Numbers 4-6 and Multiplication -->
            <button class="btn number-btn" data-number="4" title="4">4</button>
            <button class="btn number-btn" data-number="5" title="5">5</button>
            <button class="btn number-btn" data-number="6" title="6">6</button>
            <button class="btn operator-btn" data-operator="*" title="Multiply (*)">×</button>
            <button class="btn function-btn" data-function="exp" title="Exponential (e^x)">e^x</button>
            <button class="btn function-btn" data-function="pow10" title="10^x">10^x</button>

            <!-- Row 7: Numbers 1-3 and Subtraction -->
            <button class="btn number-btn" data-number="1" title="1">1</button>
            <button class="btn number-btn" data-number="2" title="2">2</button>
            <button class="btn number-btn" data-number="3" title="3">3</button>
            <button class="btn operator-btn" data-operator="-" title="Subtract (-)">−</button>
            <button class="btn function-btn" data-function="random" title="Random Number">Rand</button>
            <button class="btn operator-btn" data-action="sign-toggle" title="Toggle Sign (+/-)">±</button>

            <!-- Row 8: Zero, Decimal, and Addition -->
            <button class="btn number-btn zero-btn" data-number="0" title="0">0</button>
            <button class="btn number-btn" data-number="." title="Decimal Point">.</button>
            <button class="btn operator-btn" data-operator="+" title="Add (+)">+</button>
            <button class="btn equals-btn" data-action="equals" title="Equals (Enter)">=</button>
            <button class="btn action-btn" data-action="backspace" title="Backspace">⌫</button>
        </div>

        <!-- Help Section -->
        <div class="help-section" id="helpSection">
            <button class="help-toggle" id="helpToggle" title="Show/Hide Keyboard Shortcuts">
                <span>?</span>
            </button>
            <div class="help-content" id="helpContent">
                <h3>Keyboard Shortcuts</h3>
                <div class="shortcuts-grid">
                    <div class="shortcut-group">
                        <h4>Numbers & Operators</h4>
                        <p><kbd>0-9</kbd> Numbers</p>
                        <p><kbd>.</kbd> Decimal point</p>
                        <p><kbd>+ - * /</kbd> Basic operations</p>
                        <p><kbd>^</kbd> Power</p>
                        <p><kbd>Enter</kbd> or <kbd>=</kbd> Calculate</p>
                    </div>
                    <div class="shortcut-group">
                        <h4>Functions</h4>
                        <p><kbd>s</kbd> sin | <kbd>c</kbd> cos | <kbd>t</kbd> tan</p>
                        <p><kbd>l</kbd> log | <kbd>n</kbd> ln</p>
                        <p><kbd>r</kbd> sqrt | <kbd>!</kbd> factorial</p>
                        <p><kbd>p</kbd> π | <kbd>e</kbd> e</p>
                    </div>
                    <div class="shortcut-group">
                        <h4>Memory & Control</h4>
                        <p><kbd>Ctrl+M</kbd> Memory Clear</p>
                        <p><kbd>Ctrl+R</kbd> Memory Recall</p>
                        <p><kbd>Ctrl+S</kbd> Memory Store</p>
                        <p><kbd>Ctrl+P</kbd> Memory Add</p>
                        <p><kbd>Escape</kbd> Clear All</p>
                        <p><kbd>Delete</kbd> Clear Entry</p>
                        <p><kbd>Backspace</kbd> Delete last</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Error Display -->
        <div class="error-display" id="errorDisplay">
            <div class="error-content">
                <span class="error-icon">⚠</span>
                <span class="error-message" id="errorMessage"></span>
                <button class="error-close" id="errorClose">×</button>
            </div>
        </div>
    </div>

    <!-- Loading Scripts -->
    <script src="calculator.js"></script>
    <script src="memory.js"></script>
    <script src="display.js"></script>
    <script src="keyboard.js"></script>
    <script src="app.js"></script>
    <script src="UNIVERSAL_ANALYTICS_TRACKER.js"></script>
</body>
</html>