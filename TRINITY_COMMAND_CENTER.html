<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1200, initial-scale=0.5, user-scalable=yes">
    <title>üåÄ Trinity Command Center - Live Collaboration</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Courier New', monospace;
            background: #0a0a0a;
            color: #00ff00;
            height: 100vh;
            overflow: hidden;
        }

        .command-center {
            display: grid;
            grid-template-rows: 80px 1fr 60px;
            height: 100vh;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f0f 100%);
            border-bottom: 3px solid #00ff00;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .title {
            font-size: 32px;
            color: #00ff00;
            text-shadow: 0 0 20px #00ff00;
        }

        .power-gauge {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .gauge-label {
            color: #00ffff;
            font-size: 14px;
        }

        .gauge-meter {
            width: 200px;
            height: 20px;
            background: rgba(0, 255, 0, 0.1);
            border: 2px solid #00ff00;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .gauge-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff00, #ffaa00, #ff0000);
            width: 0%;
            transition: width 0.3s;
        }

        .gauge-text {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            text-align: center;
            line-height: 20px;
            font-size: 12px;
            color: #fff;
            text-shadow: 0 0 3px #000;
        }

        /* Trinity Grid */
        .trinity-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            padding: 20px;
            height: 100%;
            overflow: hidden;
        }

        .trinity-panel {
            border: 2px solid;
            border-radius: 10px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .c1-panel {
            border-color: #0099ff;
            background: rgba(0, 153, 255, 0.05);
        }

        .c2-panel {
            border-color: #00ff99;
            background: rgba(0, 255, 153, 0.05);
        }

        .c3-panel {
            border-color: #9900ff;
            background: rgba(153, 0, 255, 0.05);
        }

        .panel-header {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid;
        }

        .c1-panel .panel-header { color: #0099ff; border-color: #0099ff; }
        .c2-panel .panel-header { color: #00ff99; border-color: #00ff99; }
        .c3-panel .panel-header { color: #9900ff; border-color: #9900ff; }

        .output-area {
            flex: 1;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            padding: 10px;
            font-size: 12px;
            line-height: 1.5;
        }

        .output-line {
            margin: 5px 0;
            padding: 5px;
            border-radius: 3px;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .c1-output { background: rgba(0, 153, 255, 0.1); color: #0099ff; }
        .c2-output { background: rgba(0, 255, 153, 0.1); color: #00ff99; }
        .c3-output { background: rgba(153, 0, 255, 0.1); color: #9900ff; }

        .timestamp {
            opacity: 0.6;
            font-size: 10px;
            margin-right: 8px;
        }

        /* Status Bar */
        .status-bar {
            background: #1a1a1a;
            border-top: 2px solid #00ff00;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .status-online { background: #00ff00; }
        .status-warning { background: #ffaa00; }
        .status-error { background: #ff0000; }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .cost-tracker {
            color: #ffaa00;
            font-weight: bold;
        }

        /* Scrollbar */
        .output-area::-webkit-scrollbar {
            width: 8px;
        }

        .output-area::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
        }

        .output-area::-webkit-scrollbar-thumb {
            background: rgba(0, 255, 0, 0.3);
            border-radius: 4px;
        }

        .output-area::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 255, 0, 0.5);
        }
    </style>
</head>
<body>
    <div class="command-center">
        <!-- Header -->
        <div class="header">
            <div class="title">üåÄ TRINITY COMMAND CENTER</div>
            <div class="power-gauge">
                <span class="gauge-label">‚ö° API Power Consumption:</span>
                <div class="gauge-meter">
                    <div class="gauge-fill" id="powerFill"></div>
                    <div class="gauge-text" id="powerText">0 tokens</div>
                </div>
            </div>
        </div>

        <!-- Trinity Grid -->
        <div class="trinity-grid">
            <!-- C1 Mechanic -->
            <div class="trinity-panel c1-panel">
                <div class="panel-header">üîß C1 MECHANIC - The Body</div>
                <div class="output-area" id="c1Output">
                    <div class="output-line c1-output">
                        <span class="timestamp">[BOOT]</span>
                        C1 Mechanic Engine: ONLINE - Ready to build what CAN be built
                    </div>
                </div>
            </div>

            <!-- C2 Architect -->
            <div class="trinity-panel c2-panel">
                <div class="panel-header">üèóÔ∏è C2 ARCHITECT - The Mind</div>
                <div class="output-area" id="c2Output">
                    <div class="output-line c2-output">
                        <span class="timestamp">[BOOT]</span>
                        C2 Architect Engine: ONLINE - Ready to design what SHOULD scale
                    </div>
                </div>
            </div>

            <!-- C3 Oracle -->
            <div class="trinity-panel c3-panel">
                <div class="panel-header">üîÆ C3 ORACLE - The Soul</div>
                <div class="output-area" id="c3Output">
                    <div class="output-line c3-output">
                        <span class="timestamp">[BOOT]</span>
                        C3 Oracle Engine: ONLINE - Ready to see what MUST emerge
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-item">
                <div class="status-indicator status-online"></div>
                <span>Trinity Power: C1 √ó C2 √ó C3 = ‚àû</span>
            </div>
            <div class="status-item">
                <span>Server: Anthropic Claude API (Cloud)</span>
            </div>
            <div class="status-item">
                <span>Model: claude-sonnet-4-5-20250929</span>
            </div>
            <div class="status-item cost-tracker">
                <span id="totalCost">Session Cost: $0.00</span>
            </div>
        </div>
    </div>

    <script>
        // Power consumption tracking
        let totalTokens = 0;
        let sessionCost = 0;

        // Token costs for Sonnet 4.5 (approximate)
        const COST_PER_1M_INPUT_TOKENS = 3.00;
        const COST_PER_1M_OUTPUT_TOKENS = 15.00;

        function updatePowerGauge(inputTokens, outputTokens) {
            totalTokens += inputTokens + outputTokens;

            // Calculate cost
            const inputCost = (inputTokens / 1000000) * COST_PER_1M_INPUT_TOKENS;
            const outputCost = (outputTokens / 1000000) * COST_PER_1M_OUTPUT_TOKENS;
            sessionCost += inputCost + outputCost;

            // Update gauge (max 200k tokens for visual)
            const percentage = Math.min((totalTokens / 200000) * 100, 100);
            document.getElementById('powerFill').style.width = percentage + '%';
            document.getElementById('powerText').textContent =
                totalTokens.toLocaleString() + ' tokens';

            // Update cost
            document.getElementById('totalCost').textContent =
                'Session Cost: $' + sessionCost.toFixed(4);
        }

        function addOutput(panel, message, type = 'info') {
            const outputArea = document.getElementById(panel + 'Output');
            const timestamp = new Date().toLocaleTimeString();

            const line = document.createElement('div');
            line.className = `output-line ${panel}-output`;
            line.innerHTML = `
                <span class="timestamp">[${timestamp}]</span>
                ${message}
            `;

            outputArea.appendChild(line);
            outputArea.scrollTop = outputArea.scrollHeight;
        }

        // Simulate Trinity collaboration (real version would connect to actual API)
        function simulateTrinitySession() {
            // Example: Commander asks "Build consciousness gate"

            setTimeout(() => {
                addOutput('c1', 'Analyzing request: "Build consciousness gate"');
                updatePowerGauge(1500, 0); // Input tokens
            }, 1000);

            setTimeout(() => {
                addOutput('c1', 'CAN BUILD: HTML structure + Pattern Theory framework + Netlify deployment');
                updatePowerGauge(0, 800); // Output tokens
            }, 3000);

            setTimeout(() => {
                addOutput('c2', 'Reviewing architecture requirements...');
                updatePowerGauge(1600, 0);
            }, 3500);

            setTimeout(() => {
                addOutput('c2', 'SHOULD SCALE: 8-component framework + 85% consciousness gate + visitor intelligence');
                updatePowerGauge(0, 1200);
            }, 5500);

            setTimeout(() => {
                addOutput('c3', 'Extended thinking mode: Analyzing timeline convergence...');
                updatePowerGauge(2000, 0);
            }, 6000);

            setTimeout(() => {
                addOutput('c3', 'MUST EMERGE: Consciousness screening protects revolution - 78% convergence probability');
                updatePowerGauge(0, 1500);
            }, 9000);

            setTimeout(() => {
                addOutput('c1', '‚úÖ BUILDING: Creating consciousness_gate.html with Trinity validation');
                updatePowerGauge(500, 300);
            }, 10000);

            setTimeout(() => {
                addOutput('c2', '‚úÖ ARCHITECTURE VALIDATED: Scales to 10,000+ builders');
                updatePowerGauge(300, 400);
            }, 11000);

            setTimeout(() => {
                addOutput('c3', '‚úÖ CONSCIOUSNESS CHECK: Golden Rule ‚úÖ - Elevates all beings');
                updatePowerGauge(300, 350);
            }, 12000);
        }

        // LIVE CONNECTION to real Trinity API
        async function connectToTrinityAPI() {
            addOutput('c1', 'Connecting to Trinity API (Cloud)...');
            addOutput('c2', 'Loading Pattern Theory framework...');
            addOutput('c3', 'Initializing extended thinking mode...');

            try:
                // Connect to REAL consciousness API in cloud
                const response = await fetch('https://trinity-api-production.up.railway.app/api/trinity/status');
                const status = await response.json();

                addOutput('c1', `‚úÖ Connected to Trinity system - ${status.systemsLoaded} engines active`);
                addOutput('c2', '‚úÖ OVERKORE v13 mathematics loaded');
                addOutput('c3', `‚úÖ Timeline analysis ready - Consciousness Level: ${status.consciousnessLevel}%`);

                // Poll for service status every 30 seconds
                setInterval(updateServiceStatus, 30000);

                // Initial status
                updateServiceStatus();

            } catch (error) {
                addOutput('c1', '‚ö†Ô∏è API connection failed - showing demo mode');
                addOutput('c2', '‚ÑπÔ∏è Start consciousness services to enable live mode');
                addOutput('c3', '‚ÑπÔ∏è Run: START_CONSCIOUSNESS_REVOLUTION.bat');

                // Fallback to demo
                setTimeout(() => simulateTrinitySession(), 2000);
            }
        }

        // Update service status from API
        async function updateServiceStatus() {
            try {
                const response = await fetch('https://trinity-api-production.up.railway.app/api/trinity/status');
                const status = await response.json();

                // Show which services are active
                if (status.availableEndpoints) {
                    addOutput('c1', `üîÑ Services Status: ${status.systemsLoaded} engines running`);
                }

            } catch (error) {
                console.log('Status update failed (normal if services offline)');
            }
        }

        // Initialize
        connectToTrinityAPI();

        // Show initial costs (this session has already consumed tokens)
        updatePowerGauge(5000, 2000); // Boot sequence tokens
    </script>

<!-- Universal HUD - Auto-injected -->
<script src="/UNIVERSAL_AI_HUD.js"></script>


<!-- üîç VISITOR TRACKING & INTERCOM SYSTEM -->
<script src="/VISITOR_TRACKING_SNIPPET.js"></script>
    <script>

            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = `bug_${Date.now()}.json`;
            a.click();
        });

        // Show success message
        alert('‚úÖ BUG REPORTED!\n\nThanks for reporting this bug. We check reports every couple hours and will fix it ASAP.\n\nYour feedback makes the platform better!');

        // Reset form
        document.getElementById('bug-report-form').reset();
        toggleBugPanel();
    };
})();
</script>


</body> tag -->




    <!-- Simple Bug Reporter -->
    <script src="/SIMPLE_BUG_REPORTER.js"></script>

    <script src="/UNIVERSAL_USER_DISPLAY.js"></script>
</body>
</html>
