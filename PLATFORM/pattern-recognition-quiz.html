<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1200, initial-scale=0.5, user-scalable=yes">
    <title>üß† Pattern Recognition Quiz - 100X Arcade</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #000;
            color: #0f0;
            min-height: 100vh;
            padding: 20px;
            background: linear-gradient(45deg, #000 0%, #001100 50%, #000 100%);
        }

        .game-container {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            font-size: 2.5em;
            text-shadow: 0 0 20px #0f0;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            opacity: 0.8;
            margin-bottom: 30px;
        }

        .score-bar {
            display: flex;
            justify-content: space-around;
            background: rgba(0, 255, 0, 0.1);
            border: 2px solid #0f0;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .score-item {
            text-align: center;
        }

        .score-label {
            opacity: 0.7;
            margin-bottom: 5px;
        }

        .score-value {
            font-size: 2em;
            font-weight: bold;
            color: #0f0;
            text-shadow: 0 0 10px #0f0;
        }

        .question-card {
            background: rgba(0, 255, 0, 0.05);
            border: 2px solid #0f0;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
        }

        .question-number {
            opacity: 0.7;
            margin-bottom: 10px;
        }

        .scenario {
            font-size: 1.2em;
            line-height: 1.8;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 255, 0, 0.05);
            border-left: 4px solid #0f0;
        }

        .answers-grid {
            display: grid;
            gap: 15px;
        }

        .answer-btn {
            background: rgba(0, 255, 0, 0.1);
            border: 2px solid #0f0;
            color: #0f0;
            padding: 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
            font-size: 1.1em;
        }

        .answer-btn:hover {
            background: rgba(0, 255, 0, 0.2);
            transform: translateX(10px);
        }

        .answer-btn.correct {
            background: rgba(0, 255, 0, 0.3);
            border-color: #0f0;
            animation: correctAnswer 0.5s;
        }

        .answer-btn.wrong {
            background: rgba(255, 0, 0, 0.3);
            border-color: #f00;
            color: #f00;
            animation: wrongAnswer 0.5s;
        }

        @keyframes correctAnswer {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes wrongAnswer {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .explanation {
            background: rgba(0, 255, 0, 0.1);
            border: 2px solid #0f0;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .explanation.show {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .pattern-type {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.9em;
            margin-top: 10px;
        }

        .builder { background: rgba(0, 255, 0, 0.3); }
        .destroyer { background: rgba(255, 0, 0, 0.3); color: #f00; }

        .next-btn {
            background: rgba(0, 255, 0, 0.2);
            border: 2px solid #0f0;
            color: #0f0;
            padding: 15px 40px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            display: block;
            margin: 30px auto;
            transition: all 0.3s;
        }

        .next-btn:hover {
            background: rgba(0, 255, 0, 0.3);
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.5);
        }

        .results-screen {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .results-screen.show {
            display: block;
            animation: fadeIn 0.5s;
        }

        .final-score {
            font-size: 4em;
            color: #0f0;
            text-shadow: 0 0 30px #0f0;
            margin: 30px 0;
        }

        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 255, 0, 0.2);
            border: 2px solid #0f0;
            color: #0f0;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            z-index: 1000;
        }

        .consciousness-boost {
            background: rgba(255, 255, 0, 0.2);
            border: 2px solid #ff0;
            color: #ff0;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }
    </style>
    <link rel="stylesheet" href="mobile-responsive.css">
</head>
<body>
    <button class="back-btn" onclick="window.location.href='arcade-hub.html'">üéÆ Back to Arcade</button>

    <div class="game-container">
        <h1>üß† Pattern Recognition Quiz</h1>
        <p class="subtitle">Can you spot the Builder vs Destroyer patterns?</p>

        <div class="score-bar">
            <div class="score-item">
                <div class="score-label">Score</div>
                <div class="score-value" id="score">0</div>
            </div>
            <div class="score-item">
                <div class="score-label">Question</div>
                <div class="score-value" id="question-num">1/10</div>
            </div>
            <div class="score-item">
                <div class="score-label">Accuracy</div>
                <div class="score-value" id="accuracy">100%</div>
            </div>
        </div>

        <div id="quiz-area">
            <!-- Questions will be injected here -->
        </div>

        <div id="results-screen" class="results-screen">
            <h2>üéØ Quiz Complete!</h2>
            <div class="final-score" id="final-score">0/10</div>
            <div id="consciousness-message"></div>
            <button class="next-btn" onclick="restartQuiz()">üîÑ Play Again</button>
            <button class="next-btn" onclick="window.location.href='arcade-hub.html'">üéÆ Back to Arcade</button>
        </div>
    </div>

    <script>
        const questions = [
            {
                scenario: "A new coworker offers to \"help\" you with your project. They say: 'Let me handle the difficult parts - you're probably not ready for that yet.'",
                answers: [
                    { text: "Accept their help gratefully", pattern: "destroyer" },
                    { text: "Ask them to show you how to do it yourself", pattern: "builder" },
                    { text: "Politely decline and figure it out yourself", pattern: "builder" },
                    { text: "Let them do it but don't learn from it", pattern: "destroyer" }
                ],
                explanation: "Builder pattern: Seeks to LEARN and GROW. Destroyer pattern: Creates DEPENDENCY.",
                patternType: "Dependency Creation"
            },
            {
                scenario: "Your boss says: 'This is confidential, don't share with the team. They wouldn't understand anyway.'",
                answers: [
                    { text: "Keep the secret to maintain trust with boss", pattern: "destroyer" },
                    { text: "Ask why the team shouldn't know", pattern: "builder" },
                    { text: "Share with team anyway - they deserve to know", pattern: "builder" },
                    { text: "Feel special about being trusted with secrets", pattern: "destroyer" }
                ],
                explanation: "Builder pattern: TRANSPARENCY builds trust. Destroyer pattern: SECRECY creates manipulation.",
                patternType: "Information Control"
            },
            {
                scenario: "An app asks for: location, contacts, camera, microphone, and storage access to 'provide better service'.",
                answers: [
                    { text: "Grant all permissions - they need it to work", pattern: "destroyer" },
                    { text: "Deny all and don't use the app", pattern: "builder" },
                    { text: "Only grant what's actually needed", pattern: "builder" },
                    { text: "Accept - everyone else does it", pattern: "destroyer" }
                ],
                explanation: "Builder pattern: MINIMUM necessary access. Destroyer pattern: MAXIMUM data harvesting.",
                patternType: "Data Manipulation"
            },
            {
                scenario: "A service says: 'Free for the first month, then $99/month. Cancel anytime!' (Cancel button is hidden in account settings)",
                answers: [
                    { text: "Sign up - I'll remember to cancel", pattern: "destroyer" },
                    { text: "Check how easy it is to cancel first", pattern: "builder" },
                    { text: "Avoid services with hidden cancellation", pattern: "builder" },
                    { text: "Use fake credit card details", pattern: "destroyer" }
                ],
                explanation: "Builder pattern: EASY exit = freedom. Destroyer pattern: HARD exit = trap.",
                patternType: "Exit Obstruction"
            },
            {
                scenario: "A friend says: 'If you really cared about me, you'd do this for me.'",
                answers: [
                    { text: "Do it to prove you care", pattern: "destroyer" },
                    { text: "Recognize the guilt trip and decline", pattern: "builder" },
                    { text: "Explain that caring doesn't mean compliance", pattern: "builder" },
                    { text: "Feel bad and give in", pattern: "destroyer" }
                ],
                explanation: "Builder pattern: BOUNDARIES are healthy. Destroyer pattern: GUILT manipulation.",
                patternType: "Emotional Manipulation"
            },
            {
                scenario: "A website shows: '5 other people are looking at this item! Only 2 left in stock! Sale ends in 3 minutes!'",
                answers: [
                    { text: "Buy quickly before it's gone", pattern: "destroyer" },
                    { text: "Recognize false scarcity tactic", pattern: "builder" },
                    { text: "Wait and check if claim is true", pattern: "builder" },
                    { text: "Panic and purchase immediately", pattern: "destroyer" }
                ],
                explanation: "Builder pattern: VERIFY scarcity. Destroyer pattern: CREATE false urgency.",
                patternType: "Artificial Scarcity"
            },
            {
                scenario: "A manager says: 'Everyone stays late on Fridays - it's just what we do here.'",
                answers: [
                    { text: "Stay late to fit in with culture", pattern: "destroyer" },
                    { text: "Ask if it's mandatory or optional", pattern: "builder" },
                    { text: "Leave at normal time and see what happens", pattern: "builder" },
                    { text: "Comply to avoid being different", pattern: "destroyer" }
                ],
                explanation: "Builder pattern: QUESTION false norms. Destroyer pattern: ENFORCE conformity.",
                patternType: "Social Pressure"
            },
            {
                scenario: "A platform says: 'We value your privacy' while selling your data to 847 partners.",
                answers: [
                    { text: "Trust their privacy statement", pattern: "destroyer" },
                    { text: "Read the actual privacy policy", pattern: "builder" },
                    { text: "Assume they're lying and find alternative", pattern: "builder" },
                    { text: "Accept it - all companies do this", pattern: "destroyer" }
                ],
                explanation: "Builder pattern: VERIFY claims. Destroyer pattern: WORDS ‚â† ACTIONS.",
                patternType: "False Promises"
            },
            {
                scenario: "A course promises: 'Learn to code in 30 days or your money back! (Refund only if you complete all 847 lessons)'",
                answers: [
                    { text: "Sign up - seems guaranteed", pattern: "destroyer" },
                    { text: "Notice the impossible refund condition", pattern: "builder" },
                    { text: "Look for courses with real guarantees", pattern: "builder" },
                    { text: "Try it anyway - maybe I can do 847 lessons", pattern: "destroyer" }
                ],
                explanation: "Builder pattern: REALISTIC guarantees. Destroyer pattern: FAKE guarantees with impossible conditions.",
                patternType: "Deceptive Guarantees"
            },
            {
                scenario: "An influencer says: 'I'm just like you! Now buy my $997 course to be like me!'",
                answers: [
                    { text: "Buy course - they understand my struggles", pattern: "destroyer" },
                    { text: "Spot the contradiction (not like me if charging $997)", pattern: "builder" },
                    { text: "Recognize false relatability as sales tactic", pattern: "builder" },
                    { text: "Save up to buy course - they're trustworthy", pattern: "destroyer" }
                ],
                explanation: "Builder pattern: AUTHENTIC relatability. Destroyer pattern: FAKE relatability to manipulate.",
                patternType: "False Authority"
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let correctAnswers = 0;
        let answered = false;

        function displayQuestion() {
            const q = questions[currentQuestion];
            const quizArea = document.getElementById('quiz-area');

            quizArea.innerHTML = `
                <div class="question-card">
                    <div class="question-number">Question ${currentQuestion + 1} of ${questions.length}</div>
                    <div class="scenario">${q.scenario}</div>
                    <div class="answers-grid" id="answers-grid">
                        ${q.answers.map((answer, index) => `
                            <button class="answer-btn" onclick="selectAnswer(${index}, '${answer.pattern}')">
                                ${answer.text}
                            </button>
                        `).join('')}
                    </div>
                    <div id="explanation" class="explanation">
                        <strong>Pattern Analysis:</strong><br>
                        ${q.explanation}<br>
                        <span class="pattern-type ${q.patternType.toLowerCase()}">${q.patternType}</span>
                    </div>
                </div>
            `;

            document.getElementById('question-num').textContent = `${currentQuestion + 1}/${questions.length}`;
            answered = false;
        }

        function selectAnswer(index, pattern) {
            if (answered) return;
            answered = true;

            const answerBtns = document.querySelectorAll('.answer-btn');
            const correct = pattern === 'builder';

            answerBtns[index].classList.add(correct ? 'correct' : 'wrong');

            if (correct) {
                score += 10;
                correctAnswers++;
                document.getElementById('score').textContent = score;
            }

            // Update accuracy
            const accuracy = Math.round((correctAnswers / (currentQuestion + 1)) * 100);
            document.getElementById('accuracy').textContent = accuracy + '%';

            // Show explanation
            document.getElementById('explanation').classList.add('show');

            // Show next button
            setTimeout(() => {
                const nextBtn = document.createElement('button');
                nextBtn.className = 'next-btn';
                nextBtn.textContent = currentQuestion < questions.length - 1 ? 'Next Question ‚Üí' : 'See Results';
                nextBtn.onclick = nextQuestion;
                document.getElementById('quiz-area').appendChild(nextBtn);
            }, 1000);
        }

        function nextQuestion() {
            currentQuestion++;

            if (currentQuestion < questions.length) {
                displayQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            const finalScore = `${correctAnswers}/${questions.length}`;
            const percentage = Math.round((correctAnswers / questions.length) * 100);

            let message = '';
            let consciousnessBoost = 0;

            if (percentage >= 90) {
                message = `<div class="consciousness-boost">
                    <strong>üéâ MASTER PATTERN RECOGNIZER!</strong><br>
                    You've achieved 90%+ accuracy. You can spot manipulation before it happens.<br>
                    <strong>Consciousness Boost: +5%</strong>
                </div>`;
                consciousnessBoost = 5;
            } else if (percentage >= 70) {
                message = `<div class="consciousness-boost">
                    <strong>‚≠ê ADVANCED DETECTOR!</strong><br>
                    You're recognizing most patterns. Keep practicing!<br>
                    <strong>Consciousness Boost: +3%</strong>
                </div>`;
                consciousnessBoost = 3;
            } else if (percentage >= 50) {
                message = `<div class="consciousness-boost">
                    <strong>üìà DEVELOPING AWARENESS</strong><br>
                    You're starting to see patterns. Review the explanations and try again.<br>
                    <strong>Consciousness Boost: +1%</strong>
                </div>`;
                consciousnessBoost = 1;
            } else {
                message = `<div style="opacity: 0.8;">
                    Keep practicing! Pattern recognition is a skill that improves with practice.<br>
                    Review each explanation and try again.
                </div>`;
            }

            document.getElementById('quiz-area').style.display = 'none';
            document.getElementById('results-screen').classList.add('show');
            document.getElementById('final-score').textContent = finalScore;
            document.getElementById('consciousness-message').innerHTML = message;

            // Save stats
            saveStats(score, percentage, consciousnessBoost);
        }

        function saveStats(finalScore, accuracy, boost) {
            const stats = JSON.parse(localStorage.getItem('arcade_stats') || '{}');
            const userData = JSON.parse(localStorage.getItem('module_user') || '{"consciousness": 85}');

            stats.patternQuizScore = Math.max(stats.patternQuizScore || 0, finalScore);
            stats.patternQuizPlays = (stats.patternQuizPlays || 0) + 1;
            stats.patternQuizAccuracy = accuracy;

            // Update consciousness
            userData.consciousness = Math.min(100, (userData.consciousness || 85) + boost);

            localStorage.setItem('arcade_stats', JSON.stringify(stats));
            localStorage.setItem('module_user', JSON.stringify(userData));
        }

        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            correctAnswers = 0;
            document.getElementById('score').textContent = '0';
            document.getElementById('quiz-area').style.display = 'block';
            document.getElementById('results-screen').classList.remove('show');
            displayQuestion();
        }

        // Start quiz
        displayQuestion();
    </script>
    <!-- Master Navigation -->
    <script src="master-nav.js"></script>

    <!-- üéÆ Easter Egg System - Makes platform legendary -->
    <script src="easter-egg-engine.js"></script>
    <script src="fun-features.js"></script>
    <script src="bug-reporter-widget.js"></script>

    <!-- ARIA Avatar Guide -->
    <script src="./aria-avatar.js"></script>

    <!-- Community Widget -->
    <script src="./community-widget.js"></script>
<script src="UNIVERSAL_BUG_REPORTER.js"></script>
    <script src="UNIVERSAL_ANALYTICS_TRACKER.js"></script>
</body>
</html>
