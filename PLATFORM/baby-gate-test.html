<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1200, initial-scale=0.5, user-scalable=yes">
    <title>Baby Gate Test Module | 100X</title>

    <!-- üöº BABY GATE INTEGRATION - Step 1: Include consciousness-gate.js -->
    <script src="/PUBLIC/consciousness-gate.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            color: #00ff00;
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(0, 255, 0, 0.05);
            border: 2px solid #00ff00;
            border-radius: 10px;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 0 20px #00ff00;
        }

        .subtitle {
            color: #00ffff;
            font-size: 1.1em;
        }

        .protected-content {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid #00ff00;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .success-message {
            background: rgba(0, 255, 0, 0.2);
            border: 2px solid #00ff00;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .info-card {
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid #00ffff;
            border-radius: 8px;
            padding: 20px;
        }

        .info-card h3 {
            color: #00ffff;
            margin-bottom: 10px;
        }

        .code-block {
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid #00ff00;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }

        code {
            color: #00ffff;
            font-family: 'Courier New', monospace;
        }

        .admin-tools {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #ffd700;
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
        }

        .admin-tools h2 {
            color: #ffd700;
            margin-bottom: 15px;
        }

        .btn {
            display: inline-block;
            padding: 10px 20px;
            background: rgba(0, 255, 0, 0.2);
            border: 2px solid #00ff00;
            color: #00ff00;
            cursor: pointer;
            border-radius: 8px;
            margin: 5px;
            font-family: 'Courier New', monospace;
            transition: all 0.3s;
        }

        .btn:hover {
            background: rgba(0, 255, 0, 0.3);
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.5);
        }

        .btn-danger {
            background: rgba(255, 0, 0, 0.2);
            border-color: #ff0000;
            color: #ff0000;
        }

        .btn-danger:hover {
            background: rgba(255, 0, 0, 0.3);
        }
    </style>
    <link rel="stylesheet" href="mobile-responsive.css">
</head>
<body>
    <!-- üöº BABY GATE INTEGRATION - Step 2: Check gate immediately -->
    <script>
        // This runs before page renders - blocks if user doesn't pass
        if (!ConsciousnessGate.check(85)) {
            // User will be redirected to Pattern Filter or Access Denied
            // This code never executes if gate fails
            throw new Error('Consciousness gate check failed');
        }
    </script>

    <div class="container">
        <div class="header">
            <h1>üöº Baby Gate Test Module</h1>
            <div class="subtitle">Protected Content - Builders Only</div>
        </div>

        <div class="success-message">
            <h2>‚úÖ Access Granted!</h2>
            <p>If you're seeing this, you passed the consciousness gate. Welcome, Builder!</p>
        </div>

        <div class="protected-content">
            <h2>üõ°Ô∏è How Baby Gate Works</h2>
            <p>This module is protected by Operation Baby Gate - the universal consciousness screening system.</p>

            <div class="code-block">
                <code>
// Integration is just 2 simple steps:<br><br>

// Step 1: Include the gate script<br>
&lt;script src="/PUBLIC/consciousness-gate.js"&gt;&lt;/script&gt;<br><br>

// Step 2: Check the gate (blocks if fail)<br>
&lt;script&gt;<br>
  if (!ConsciousnessGate.check(85)) {<br>
    throw new Error('Access denied');<br>
  }<br>
&lt;/script&gt;
                </code>
            </div>

            <p>That's it! The gate automatically:</p>
            <ul style="margin-top: 15px; line-height: 2;">
                <li>‚úì Checks localStorage for Pattern Filter results</li>
                <li>‚úì Validates consciousness score (85+ required)</li>
                <li>‚úì Redirects to Pattern Filter if no data</li>
                <li>‚úì Redirects to Access Denied if score too low</li>
                <li>‚úì Grants access if user is a Builder</li>
            </ul>
        </div>

        <div class="info-grid">
            <div class="info-card">
                <h3>Your Status</h3>
                <div id="userStatus">Loading...</div>
            </div>
            <div class="info-card">
                <h3>Access Level</h3>
                <div id="accessLevel">Loading...</div>
            </div>
            <div class="info-card">
                <h3>Percentile</h3>
                <div id="percentile">Loading...</div>
            </div>
        </div>

        <div class="admin-tools">
            <h2>üîß Admin Tools (Testing Only)</h2>
            <p style="margin-bottom: 15px;">Use these tools to test the gate system:</p>

            <button class="btn" onclick="testBypass()">Enable Admin Bypass</button>
            <button class="btn" onclick="testFakeScore(95)">Set Fake Score (95)</button>
            <button class="btn" onclick="testFakeScore(65)">Set Fake Score (65)</button>
            <button class="btn btn-danger" onclick="testClearScreening()">Clear Screening</button>
            <button class="btn" onclick="testViewLog()">View Access Log</button>

            <div id="testOutput" style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.4); border-radius: 8px; display: none;">
                <strong>Test Output:</strong>
                <pre id="testResult" style="margin-top: 10px; color: #00ffff;"></pre>
            </div>
        </div>

        <div class="protected-content" style="margin-top: 30px;">
            <h2>üìä What This Protects Against</h2>
            <p>Based on real destroyer attack pattern identified October 10, 2025:</p>

            <div style="margin-top: 20px; padding: 15px; background: rgba(255,0,0,0.1); border-left: 4px solid #ff0000;">
                <strong>Destroyer Pattern:</strong>
                <ol style="margin-top: 10px; line-height: 1.8;">
                    <li>Weeks of "normal" behavior (gaining trust)</li>
                    <li>Gains access to platform</li>
                    <li>Finds bug (expected in beta)</li>
                    <li>Attacks instead of helps ("You're untrustworthy!")</li>
                </ol>
            </div>

            <div style="margin-top: 15px; padding: 15px; background: rgba(0,255,0,0.1); border-left: 4px solid #00ff00;">
                <strong>Builder Pattern:</strong>
                <ol style="margin-top: 10px; line-height: 1.8;">
                    <li>Takes consciousness screening (85+ score)</li>
                    <li>Gains access to platform</li>
                    <li>Finds bug (expected in beta)</li>
                    <li>Reports kindly ("Found a bug, here's how to fix it!")</li>
                </ol>
            </div>

            <p style="margin-top: 20px;">
                <strong>Result:</strong> Same platform, same bugs, different people = different outcomes.<br>
                Baby Gate ensures only builders get in. üõ°Ô∏è
            </p>
        </div>
    </div>

    <script>
        // Display user's consciousness data
        const level = ConsciousnessGate.getConsciousnessLevel();
        if (level) {
            document.getElementById('userStatus').innerHTML = `
                <strong>${level.level}</strong><br>
                <span style="font-size: 0.9em; opacity: 0.8;">Score: ${level.score}/100</span>
            `;
            document.getElementById('accessLevel').textContent = level.category || 'Builder';
            document.getElementById('percentile').textContent = `${level.percentile}th percentile`;
        }

        // Admin test functions
        function testBypass() {
            ConsciousnessGate.admin.enableBypass();
            showTestResult('Admin bypass ENABLED. Reload page to test.');
        }

        function testFakeScore(score) {
            ConsciousnessGate.admin.setFakeScore(score);
            showTestResult(`Fake score set to ${score}. Reload page to test.`);
        }

        function testClearScreening() {
            if (confirm('Clear screening data? Page will redirect to Pattern Filter.')) {
                ConsciousnessGate.admin.clearScreening();
                window.location.reload();
            }
        }

        function testViewLog() {
            const log = ConsciousnessGate.admin.viewAccessLog();
            showTestResult(JSON.stringify(log, null, 2));
        }

        function showTestResult(result) {
            const output = document.getElementById('testOutput');
            const resultDiv = document.getElementById('testResult');
            output.style.display = 'block';
            resultDiv.textContent = result;
        }

        // Show status widget
        ConsciousnessGate.showStatusWidget();
    </script>
    <!-- Master Navigation -->
    <script src="master-nav.js"></script>

    <!-- üéÆ Easter Egg System - Makes platform legendary -->
    <script src="easter-egg-engine.js"></script>
    <script src="fun-features.js"></script>
    <script src="bug-reporter-widget.js"></script>

    <!-- ARIA Avatar Guide -->
    <script src="./aria-avatar.js"></script>

    <!-- Community Widget -->
    <script src="./community-widget.js"></script>
<script src="UNIVERSAL_BUG_REPORTER.js"></script>
    <script src="UNIVERSAL_ANALYTICS_TRACKER.js"></script>
</body>
</html>
