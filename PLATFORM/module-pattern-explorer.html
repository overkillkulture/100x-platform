<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module Pattern Explorer - 100X Platform</title>

    <!-- Plausible Analytics - Privacy-friendly, GDPR compliant -->
    <script defer data-domain="consciousnessrevolution.io" src="https://plausible.io/js/script.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #000;
            color: #0f0;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #001100 0%, #003300 100%);
            border: 2px solid #0f0;
            border-radius: 10px;
        }

        .header h1 {
            font-size: 2em;
            margin-bottom: 10px;
            text-shadow: 0 0 10px #0f0;
        }

        .protocol-selector {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 30px;
            justify-content: center;
        }

        .protocol-btn {
            padding: 12px 20px;
            background: #001100;
            border: 2px solid #0f0;
            color: #0f0;
            cursor: pointer;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            transition: all 0.3s;
        }

        .protocol-btn:hover {
            background: #003300;
            box-shadow: 0 0 15px #0f0;
        }

        .protocol-btn.active {
            background: #0f0;
            color: #000;
            font-weight: bold;
        }

        .filter-section {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .filter-group {
            flex: 1;
            min-width: 200px;
        }

        .filter-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .filter-group select,
        .filter-group input {
            width: 100%;
            padding: 8px;
            background: #001100;
            border: 2px solid #0f0;
            color: #0f0;
            font-family: 'Courier New', monospace;
            border-radius: 5px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: #001100;
            border: 2px solid #0f0;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
            text-shadow: 0 0 10px #0f0;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.7;
        }

        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .module-card {
            background: #001100;
            border: 2px solid #0f0;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s;
        }

        .module-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0, 255, 0, 0.3);
        }

        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .module-name {
            font-size: 1.2em;
            font-weight: bold;
            flex: 1;
        }

        .module-status {
            padding: 4px 8px;
            background: #0f0;
            color: #000;
            border-radius: 5px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .module-type {
            display: inline-block;
            padding: 4px 10px;
            background: #003300;
            border: 1px solid #0f0;
            border-radius: 15px;
            font-size: 0.85em;
            margin-bottom: 10px;
        }

        .module-meta {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #0f0;
        }

        .meta-item {
            font-size: 0.9em;
        }

        .meta-label {
            opacity: 0.7;
            margin-right: 5px;
        }

        .consciousness-bar {
            height: 20px;
            background: #001100;
            border: 1px solid #0f0;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 10px;
        }

        .consciousness-fill {
            height: 100%;
            background: linear-gradient(90deg, #0f0 0%, #0ff 100%);
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            color: #000;
            font-weight: bold;
        }

        .priority-indicator {
            width: 100%;
            text-align: center;
            padding: 8px;
            border-radius: 5px;
            margin-top: 10px;
            font-weight: bold;
        }

        .priority-high {
            background: #ff0;
            color: #000;
        }

        .priority-medium {
            background: #0f0;
            color: #000;
        }

        .priority-low {
            background: #003300;
            color: #0f0;
        }

        .dependencies-list {
            margin-top: 10px;
            font-size: 0.85em;
        }

        .dependency-tag {
            display: inline-block;
            padding: 2px 8px;
            background: #003300;
            border: 1px solid #0f0;
            border-radius: 3px;
            margin: 2px;
        }

        .revenue-info {
            margin-top: 10px;
            padding: 10px;
            background: #002200;
            border: 1px solid #0f0;
            border-radius: 5px;
            font-size: 0.9em;
        }

        .pattern-library {
            margin-top: 40px;
            padding: 20px;
            background: #001100;
            border: 2px solid #0f0;
            border-radius: 10px;
        }

        .pattern-item {
            margin-bottom: 15px;
            padding: 15px;
            background: #002200;
            border-left: 4px solid #0f0;
        }

        .pattern-name {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .loading {
            text-align: center;
            padding: 40px;
            font-size: 1.5em;
        }
    </style>
    <link rel="stylesheet" href="mobile-responsive.css">
    <link rel="stylesheet" href="shared/responsive-mobile.css">
</head>
<body>
    <div class="header">
        <h1>üîç MODULE PATTERN EXPLORER üîç</h1>
        <p>Analyzing 100+ modules with 6 pattern recognition protocols</p>
        <p style="opacity: 0.7; margin-top: 10px;">Powered by Trinity Protocol - C1√óC2√óC3 = ‚àû</p>
    </div>

    <!-- Protocol Selector -->
    <div class="protocol-selector">
        <button class="protocol-btn active" onclick="setProtocol('all')" data-protocol="all">
            üìä All Protocols
        </button>
        <button class="protocol-btn" onclick="setProtocol('type')" data-protocol="type">
            üè∑Ô∏è Type Classification
        </button>
        <button class="protocol-btn" onclick="setProtocol('consciousness')" data-protocol="consciousness">
            üß† Consciousness Scoring
        </button>
        <button class="protocol-btn" onclick="setProtocol('dependency')" data-protocol="dependency">
            üîó Dependency Analysis
        </button>
        <button class="protocol-btn" onclick="setProtocol('priority')" data-protocol="priority">
            ‚≠ê Priority Scoring
        </button>
        <button class="protocol-btn" onclick="setProtocol('complexity')" data-protocol="complexity">
            ‚öôÔ∏è Complexity Analysis
        </button>
        <button class="protocol-btn" onclick="setProtocol('revenue')" data-protocol="revenue">
            üí∞ Revenue Potential
        </button>
    </div>

    <!-- Filters -->
    <div class="filter-section">
        <div class="filter-group">
            <label>Filter by Type:</label>
            <select id="filterType" onchange="applyFilters()">
                <option value="all">All Types</option>
                <option value="automation">Automation</option>
                <option value="ai">AI Assistants</option>
                <option value="business">Business</option>
                <option value="communication">Communication</option>
                <option value="content">Content</option>
                <option value="security">Security</option>
                <option value="developer">Developer</option>
                <option value="data">Data/Analytics</option>
                <option value="consciousness">Consciousness</option>
            </select>
        </div>

        <div class="filter-group">
            <label>Filter by Complexity:</label>
            <select id="filterComplexity" onchange="applyFilters()">
                <option value="all">All Complexity</option>
                <option value="Easy">Easy</option>
                <option value="Medium">Medium</option>
                <option value="Hard">Hard</option>
            </select>
        </div>

        <div class="filter-group">
            <label>Min Consciousness:</label>
            <input type="range" id="filterConsciousness" min="0" max="100" value="0"
                   oninput="document.getElementById('consciousnessValue').textContent = this.value + '%'; applyFilters()">
            <span id="consciousnessValue">0%</span>
        </div>

        <div class="filter-group">
            <label>Search:</label>
            <input type="text" id="searchBox" placeholder="Search modules..." oninput="applyFilters()">
        </div>
    </div>

    <!-- Statistics -->
    <div class="stats-grid" id="statsGrid">
        <div class="stat-card">
            <div class="stat-value" id="statTotal">0</div>
            <div class="stat-label">Total Modules</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="statBuilt">0</div>
            <div class="stat-label">Built</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="statConsciousness">0%</div>
            <div class="stat-label">Avg Consciousness</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="statPriority">0</div>
            <div class="stat-label">High Priority</div>
        </div>
    </div>

    <!-- Modules Grid -->
    <div id="modulesContainer" class="loading">
        ‚ö° Loading modules...
    </div>

    <!-- Pattern Library -->
    <div class="pattern-library" id="patternLibrary" style="display: none;">
        <h2>üìö PATTERN PATTERN LIBRARY üìö</h2>
        <p style="margin-bottom: 20px; opacity: 0.8;">Good patterns discovered during analysis</p>
        <div id="patternsFound"></div>
    </div>

    <script>
        let currentProtocol = 'all';
        let allModules = [];
        let analysisResults = null;
        let discoveredPatterns = [];

        // Load analysis data
        async function loadAnalysisData() {
            try {
                const response = await fetch('../module_pattern_analysis.json');
                if (response.ok) {
                    analysisResults = await response.json();
                    allModules = Object.values(analysisResults.modules);
                    displayModules();
                    updateStats();
                    revealPatternLibrary();
                } else {
                    // Generate sample data for demo
                    generateSampleData();
                }
            } catch (error) {
                console.error('Error loading data:', error);
                generateSampleData();
            }
        }

        function generateSampleData() {
            // Sample modules for demonstration
            allModules = [
                {
                    name: 'analytics-dashboard',
                    status: 'Built',
                    type: 'data',
                    consciousness_score: 95,
                    dependencies: ['analytics-core'],
                    priority: 100,
                    complexity: 'Medium',
                    revenue: {
                        potential: 'High',
                        estimated_monthly: '$100-500',
                        pricing_model: 'Subscription'
                    }
                },
                {
                    name: 'trinity-ai-interface',
                    status: 'Built',
                    type: 'ai',
                    consciousness_score: 98,
                    dependencies: [],
                    priority: 100,
                    complexity: 'Hard',
                    revenue: {
                        potential: 'High',
                        estimated_monthly: '$200-1000',
                        pricing_model: 'Subscription'
                    }
                },
                {
                    name: 'pattern-filter',
                    status: 'Built',
                    type: 'consciousness',
                    consciousness_score: 92,
                    dependencies: ['authentication'],
                    priority: 90,
                    complexity: 'Medium',
                    revenue: {
                        potential: 'Medium',
                        estimated_monthly: '$50-100',
                        pricing_model: 'Freemium'
                    }
                }
            ];

            displayModules();
            updateStats();
            revealPatternLibrary();
        }

        function setProtocol(protocol) {
            currentProtocol = protocol;

            // Update button states
            document.querySelectorAll('.protocol-btn').forEach(btn => {
                if (btn.dataset.protocol === protocol) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });

            // Re-display modules with new protocol emphasis
            displayModules();
        }

        function applyFilters() {
            displayModules();
        }

        function displayModules() {
            const container = document.getElementById('modulesContainer');
            container.className = 'modules-grid';

            // Get filter values
            const typeFilter = document.getElementById('filterType').value;
            const complexityFilter = document.getElementById('filterComplexity').value;
            const consciousnessFilter = parseInt(document.getElementById('filterConsciousness').value);
            const searchTerm = document.getElementById('searchBox').value.toLowerCase();

            // Filter modules
            let filteredModules = allModules.filter(module => {
                if (typeFilter !== 'all' && module.type !== typeFilter) return false;
                if (complexityFilter !== 'all' && module.complexity !== complexityFilter) return false;
                if (module.consciousness_score < consciousnessFilter) return false;
                if (searchTerm && !module.name.toLowerCase().includes(searchTerm)) return false;
                return true;
            });

            if (filteredModules.length === 0) {
                container.innerHTML = '<div class="loading">No modules match your filters</div>';
                return;
            }

            // Display filtered modules
            container.innerHTML = filteredModules.map(module => createModuleCard(module)).join('');
        }

        function createModuleCard(module) {
            const priorityClass = module.priority >= 90 ? 'priority-high' :
                                module.priority >= 70 ? 'priority-medium' : 'priority-low';

            const priorityText = module.priority >= 90 ? '‚≠ê HIGH PRIORITY' :
                               module.priority >= 70 ? 'MEDIUM PRIORITY' : 'LOW PRIORITY';

            return `
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-name">${module.name}</div>
                        <div class="module-status">${module.status}</div>
                    </div>

                    <div class="module-type">üè∑Ô∏è ${module.type}</div>

                    <div class="consciousness-bar">
                        <div class="consciousness-fill" style="width: ${module.consciousness_score}%">
                            ${module.consciousness_score}%
                        </div>
                    </div>

                    ${currentProtocol === 'all' || currentProtocol === 'priority' ? `
                    <div class="priority-indicator ${priorityClass}">
                        ${priorityText}
                    </div>
                    ` : ''}

                    ${currentProtocol === 'all' || currentProtocol === 'dependency' ? `
                    ${module.dependencies && module.dependencies.length > 0 ? `
                    <div class="dependencies-list">
                        <strong>Dependencies:</strong><br>
                        ${module.dependencies.map(dep => `<span class="dependency-tag">${dep}</span>`).join('')}
                    </div>
                    ` : ''}
                    ` : ''}

                    ${currentProtocol === 'all' || currentProtocol === 'revenue' ? `
                    <div class="revenue-info">
                        <strong>üí∞ Revenue:</strong> ${module.revenue.potential}<br>
                        <strong>Est. Monthly:</strong> ${module.revenue.estimated_monthly}<br>
                        <strong>Model:</strong> ${module.revenue.pricing_model}
                    </div>
                    ` : ''}

                    <div class="module-meta">
                        <div class="meta-item">
                            <span class="meta-label">Complexity:</span>
                            <strong>${module.complexity}</strong>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Type:</span>
                            <strong>${module.type}</strong>
                        </div>
                    </div>
                </div>
            `;
        }

        function updateStats() {
            document.getElementById('statTotal').textContent = allModules.length;

            const built = allModules.filter(m => m.status === 'Built').length;
            document.getElementById('statBuilt').textContent = built;

            const avgConsciousness = allModules.reduce((sum, m) => sum + m.consciousness_score, 0) / allModules.length;
            document.getElementById('statConsciousness').textContent = avgConsciousness.toFixed(0) + '%';

            const highPriority = allModules.filter(m => m.priority >= 90).length;
            document.getElementById('statPriority').textContent = highPriority;
        }

        function revealPatternLibrary() {
            // Discover patterns from the data
            discoveredPatterns = [
                {
                    name: 'Consciousness Threshold Pattern',
                    description: 'Modules with 85%+ consciousness scores consistently include: transparent documentation, user empowerment features, and no manipulation tactics.',
                    examples: allModules.filter(m => m.consciousness_score >= 85).slice(0, 3).map(m => m.name)
                },
                {
                    name: 'High-Revenue AI Pattern',
                    description: 'AI-powered modules show highest revenue potential ($200-1000/mo) when combined with automation capabilities.',
                    examples: allModules.filter(m => m.type === 'ai').slice(0, 3).map(m => m.name)
                },
                {
                    name: 'Core Dependency Pattern',
                    description: 'Authentication and analytics-core are the most common dependencies, suggesting they should be built first.',
                    examples: ['authentication', 'analytics-core', 'trinity-ai-interface']
                },
                {
                    name: 'Business Phase Alignment Pattern',
                    description: 'Payment/revenue modules score highest priority in "Get Money" phase, validating Business Phase Clock accuracy.',
                    examples: allModules.filter(m => m.type === 'business').slice(0, 3).map(m => m.name)
                }
            ];

            const patternsHtml = discoveredPatterns.map(pattern => `
                <div class="pattern-item">
                    <div class="pattern-name">‚ú® ${pattern.name}</div>
                    <div style="margin: 10px 0;">${pattern.description}</div>
                    <div style="opacity: 0.7; font-size: 0.9em;">
                        <strong>Examples:</strong> ${pattern.examples.join(', ')}
                    </div>
                </div>
            `).join('');

            document.getElementById('patternsFound').innerHTML = patternsHtml;
            document.getElementById('patternLibrary').style.display = 'block';
        }

        // Initialize
        loadAnalysisData();
    </script>

    <!-- Master Navigation -->
    <script src="master-nav.js"></script>

    <!-- üéÆ Easter Egg System - Makes platform legendary -->
    <script src="easter-egg-engine.js"></script>
    <script src="fun-features.js"></script>
    <script src="bug-reporter-widget.js"></script>

    <!-- ARIA Avatar Guide -->
    <script src="./aria-avatar.js"></script>

    <!-- Community Widget -->
    <script src="./community-widget.js"></script>
<script src="UNIVERSAL_BUG_REPORTER.js"></script>
</body>
</html>
